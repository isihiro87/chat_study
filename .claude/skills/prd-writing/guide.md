# PRD作成ガイド

このガイドは、Claude Codeを活用してプロダクト要求定義書(PRD)を作成するための実践的な指針を提供します。

## PRD作成の基本フロー

### ステップ1: アイデアの壁打ち

Claude Codeを壁打ち相手として、アイデアをブラッシュアップします。

**プロンプト例**:
```
開発者向けのタスク管理ツールのアイデアがあります。基本的なCRUD機能に加えて、
開発者ならではの価値を提供したいです。どんな機能があれば、既存のツール
（Todoist、Trello、Asanaなど）と差別化できるでしょうか？
ブレインストーミングに付き合ってください
```

**ポイント**:
- 24時間いつでも対話可能
- 具体的なアイデアを引き出せる
- 対話履歴からそのまま設計資料に落とし込める
- ただし、最終的な意思決定は人間が行う

### ステップ2: アイデアの絞り込み

Claude Codeとの対話を通じて、MVP(Minimum Viable Product)として何を作るか決めます。

**対話例**:
```
User: CLIファーストと優先順位の自動調整を組み合わせたら面白そうです

Claude: 良い選択ですね。具体的には、こんなユースケースが考えられます：
- `devtask list` で優先順位順にタスクを表示
- `devtask next` で今やるべきタスクを自動推薦
- `devtask add "タスク"` で追加、自動的に優先度を推定

優先順位の推定アルゴリズムはどうしますか？
- シンプルなルールベース（期限、依存関係）
- 機械学習ベース（過去の作業パターンから学習）
- ユーザー設定ベース（手動で重み付け）

User: MVPならシンプルなルールベースで良さそうです
```

### ステップ3: PRDドラフトの生成

Claude CodeにPRD生成を依頼します。

**プロンプト例**:
```
開発者向けタスク管理CLIツール『DevTask』の開発を開始してください。
これまでの壁打ちの内容を反映して、プロダクト要求定義書を作成してください。
```

Claude Codeは数秒でPRDドラフトを生成します。

### ステップ4: PRDのレビューと改善

生成されたPRDを以下の観点でレビューします。

#### レビュー観点

Claude Codeに以下のプロンプトでレビューを依頼できます:

```
このプロダクト要求仕様書を評価してください。不足している点、曖昧な点、
改善すべき点を指摘してください。特に以下の観点で：

1. プロダクトビジョンは明確か
2. ターゲットユーザーは具体的か
3. 成功指標は測定可能か
4. 機能要件は実装可能なレベルまで詳細化されているか
5. 非機能要件は網羅されているか
```

#### レビュー結果の例

Claude Codeは以下のような形式でレビュー結果を返します:

```markdown
## プロダクト要求仕様書 品質評価レポート

### ✅ 強み
1. 明確なビジョン: 「タスク管理のオーバーヘッドをゼロに」は測定可能で具体的
2. 具体的な機能仕様: CLIコマンドが実装レベルまで詳細化
3. 測定可能なKPI: DAU、完了率など定量的指標

### ⚠️ 改善が必要な点

#### 1. 機能要件の曖昧さ
問題: 「タスク依存関係の管理」の仕様が不明確
- 依存関係をどう表現する？（グラフ、リスト？）
- 循環依存はどう検出・防止する？

推奨: 具体的なコマンド仕様とエラーハンドリングを明記

#### 2. 成功指標の測定方法が不明
問題: 「DAU 1,000人」をどう計測する？
- テレメトリを実装する？
- プライバシーへの配慮は？

推奨: 測定方法とプライバシーポリシーを明記
```

#### 改善の実施

Claude Codeの指摘を一つずつ反映し、PRDを具体的で実装可能なレベルまで改善します。

**プロンプト例**:
```
指摘された「タスク依存関係の管理」の仕様を具体化してください。
コマンド仕様とエラーハンドリングを含めて記述してください。
```

### ステップ5: 承認と次のステップ

PRDの内容が十分に具体的になったら、承認して次のドキュメント作成に進みます。

```
プロダクト要求仕様書の内容はこれでOKなので続けて
```

## PRD作成の重要なポイント

### 1. 具体性と測定可能性

すべての要件は具体的で測定可能でなければなりません。

**悪い例**:
- システムは高速である必要がある
- ユーザーは使いやすいと感じる

**良い例**:
- コマンド実行時間: 100ms以内（平均的なPC環境で）
- 新規ユーザーが5分以内に基本操作を習得できる（ユーザビリティテストで測定）

### 2. ユーザー中心設計

すべての機能は、明確なユーザーの課題を解決するものでなければなりません。

**ユーザーストーリーのフォーマット**:
```
[ユーザー]として、[目的]のために、[機能]が欲しい
```

**例**:
```
開発者として、ターミナルから離れずにタスクを管理するために、
CLIベースのタスク管理ツールが欲しい
```

### 3. 優先順位の明確化

すべての機能に優先度を設定します:

- **P0(必須)**: MVP(Minimum Viable Product)に含める機能。これがないとプロダクトとして成立しない
- **P1(重要)**: 初期リリース後すぐに追加すべき機能
- **P2(できれば)**: 将来的に追加を検討する機能

## PRDの主要セクション

### プロダクト概要

#### 構成要素
1. **名称**: プロダクト名とサブタイトル
2. **プロダクトコンセプト**: 3つの主要コンセプト
3. **プロダクトビジョン**: 目指す世界観を3-5文で
4. **目的**: 具体的な目的のリスト

#### 例
```
### 名称
**Devtask** - 開発者向けタスク管理CLIツール

### プロダクトコンセプト
- CLIで完結するタスク管理: ターミナルから離れずにすべての操作を完結
- 優先順位の自動推定機能: タスクの期限、作成日時、ステータス変更履歴などから優先順位を自動推定
- シンプルで高速な操作感: 最小限のキー入力で操作完了、即座のレスポンス

### プロダクトビジョン
開発者がターミナルから離れることなく、効率的にタスクを管理できるCLIツールを提供する。
コマンドラインでの操作に特化し、開発フローを中断させない軽量で高速なタスク管理を実現する。
優先順位の自動推定により、開発者は本質的な作業に集中できる。
```

### ターゲットユーザー(ペルソナ)

#### 必須要素
1. **基本属性**: 年齢、職業、経験年数
2. **技術スタック**: 使用しているツールや言語
3. **現在の課題**: 具体的な痛み点
4. **期待する解決策**: どうなりたいか

#### 例
```
### プライマリーペルソナ: 田中太郎(29歳、フルスタックエンジニア)
- フリーランスで3-5プロジェクトを並行
- Vim/Emacs + ターミナル環境
- タスク管理に時間をかけたくない
- Markdown、Git、CLIツールを好む
```

### 成功指標(KPI)

#### SMART原則
- **S**pecific(具体的): 何を測定するか明確
- **M**easurable(測定可能): 数値で測定できる
- **A**chievable(達成可能): 現実的な目標
- **R**elevant(関連性): ビジネス目標と関連
- **T**ime-bound(期限): 達成期限を設定

#### 例
```
### プライマリーKPI
- 日次アクティブユーザー(DAU): 100人(3ヶ月後)
- タスク完了率: 70%以上
- 1日あたりの平均コマンド実行回数: 10回以上
```

### 機能要件

#### コア機能(MVP)

各機能には以下を含めます:
- ユーザーストーリー
- 受け入れ条件（チェックリスト形式）
- 優先度（P0/P1/P2）

#### CLIインターフェース

CLIツールの場合、具体的なコマンド例を記載します:

```bash
# 基本操作
devtask add "タスク名" --due 2025-01-15 --priority high
devtask list
devtask next  # 今やるべきタスクを表示
devtask done <task-id>
devtask show <task-id>
```

### 非機能要件

測定可能な形で記述します:

```
### パフォーマンス
- コマンド実行時間: 100ms以内（平均的なPC環境で）
- タスク一覧表示: 1000件まで1秒以内

### ユーザビリティ
- 新規ユーザーが5分以内に基本操作を習得できる

### 信頼性
- データ損失ゼロ（自動バックアップ）
```

## AIによるレビューの活用

### レビューの重要性

AIは自分が生成したドキュメントをレビューすることができます。人間のレビュー前に基本的な問題を発見し、継続的改善が可能です。

### レビュー後の対応

1. 指摘された問題を一つずつ確認
2. 具体化が必要な箇所をClaude Codeに依頼して改善
3. 改善後、再度レビューを実施
4. 問題がなくなるまで繰り返す

### 注意点

- AIのレビューを鵜呑みにせず、最終的な判断は必ず人間が行う
- レビュー観点は明確に指定する
- 改善提案の妥当性を人間が検証する

## まとめ

PRD作成の成功のポイント:

1. **Claude Codeを壁打ち相手として活用**: アイデアのブラッシュアップ
2. **具体性と測定可能性**: すべての要件を明確に
3. **ユーザー中心**: ユーザーの課題を解決する機能のみ
4. **優先順位の明確化**: P0/P1/P2で分類
5. **レビューと改善**: Claude Codeによる自己レビューと人間による最終判断
6. **1ファイルずつ確認**: 次に進む前に必ず承認を得る
