# スペック駆動開発テンプレート

このテンプレートは、Claude Codeを使ったスペック駆動開発を自動化するための仕組みです。

## 特徴

### プログレッシブロード

情報を4つの階層に分類し、必要な情報だけを段階的にロードします:

1. **CLAUDE.md**: 常に参照される軽量な基本ルール
2. **スラッシュコマンド**: 定型ワークフロー
3. **スキル**: タスクモード別の詳細ガイド
4. **サブエージェント**: 専門タスクを独立実行

これにより、コンテキストウィンドウを効率的に使用します。

## 使い方

### 1. プロジェクトの作成

```bash
git clone [このリポジトリ] my-project
cd my-project
```

### 2. Devcontainerで開く

VS Codeで「Reopen in Container」を選択すると、自動的に:
- Node.js LTS環境が構築される
- npm installが実行される

### 3. CLAUDE.mdのカスタマイズ

`CLAUDE.md`を開き、プロジェクト固有の情報を編集します:

- プロジェクト名
- プロジェクトの説明
- 技術スタック

### 4. 初回セットアップ

Claude Codeを起動し、初回セットアップコマンドを実行:

```bash
claude
> /setup-project
```

このコマンドは6つの永続ドキュメントを対話的に作成します。各ドキュメント作成後、内容を確認して承認してください。

### 5. 日常的な使い方

初回セットアップ後は、**普通に会話で依頼**してください:

```bash
claude

# ドキュメントの作成・編集
> PRDを見直して、新しい機能要件を追加してください
> architecture.mdのレイヤー構造を変更したい

# 機能の追加(定型フローはコマンド使用)
> /add-feature ユーザープロフィール編集

# レビュー(詳細レポートが必要な場合)
> /review-docs docs/product-requirements.md
```

**ポイント**: スペック駆動開発の詳細を意識する必要はありません。Claude Codeが適切なスキルを判断してロードします。

### 6. ヘッドレスモードでの実行

```bash
# 機能追加を完全自動実行
claude -p "/add-feature タスクフィルタリング" --headless
```

## テンプレートの構成要素

### CLAUDE.md(軽量)
- 基本原則のみを記載
- 詳細はスキルに委譲

### スキル(タスクモード別)
- **prd-writing**: PRD作成ガイド
- **functional-design**: 機能設計書作成ガイド
- **architecture-design**: アーキテクチャ設計ガイド
- **repository-structure**: リポジトリ構造定義ガイド
- **development-guidelines**: 開発ガイドライン作成ガイド
- **glossary-creation**: 用語集作成ガイド
- **implementation**: プロジェクト固有のコーディング規約

### サブエージェント
- **doc-reviewer**: ドキュメントの詳細レビュー
- **implementation-validator**: 実装の品質検証

## プログレッシブロードの効果

**コンテキスト消費の最適化**:
- 従来方式: 常時20,000トークン(全テンプレート読み込み)
- 新方式: タスク時5,000-6,000トークン(必要なスキルのみ)
- **削減率: 約70%**

**情報の適時性**:
- PRD作成中 → prd-writingスキルのみロード(アーキテクチャ詳細は不要)
- 実装中 → implementationスキルのみロード(PRD作成ガイドは不要)

## ライセンス

MIT
